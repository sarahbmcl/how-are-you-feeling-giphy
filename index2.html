<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  
  <body>
    <h1>How Are You Feeling Today?</h1>

    <div id="buttonArea"></div>

    <div id="GIFArea"> </div>

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">

        let topics = ["anger","disgust","fear","happiness","sadness","surprise"];
        //let queryURL = "https://api.giphy.com/v1/gifs/search?q=" +topics[i]+ "&api_key=faY502M74RA3tid3YkAoqH7IWgz6NgoM&limit=10";

        for(let i=0;i<topics.length;i++){
            $("#buttonArea").append("<button data-search='"+topics[i]+"'>"+topics[i]+"</button>")
            let queryURL = "https://api.giphy.com/v1/gifs/search?q=" +topics[i]+ "&api_key=faY502M74RA3tid3YkAoqH7IWgz6NgoM&limit=10";

        }

        $("button").on("click", function(){

            let x = $(this).data("search");
            console.log(x);

            let queryURL = "https://api.giphy.com/v1/gifs/search?q=" +x+ "&api_key=faY502M74RA3tid3YkAoqH7IWgz6NgoM&limit=10";
            console.log(queryURL);
            
            $.ajax({url:queryURL,method:"GET"})
                .done(function(response){
                for(let i=0;i<response.data.length;i++){
                    $("#GIFArea").append("<p>Rating: "+response.data[i].rating+"</p>")
                    $("#GIFArea").append("<img src='"+response.data[i].images.downsized.url+"'>");
                }
            });
        })
        

    </script>

  </body>

</html>  